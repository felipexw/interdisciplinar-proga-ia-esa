<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/templates/template.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="corpo">
        <h:form id="formUsuario">
            <p:dialog widgetVar="dlgAdministrador" 
                      header="Usuário"
                      resizable="false" 
                      closable="true"
                      minimizable="false"
                      draggable="true"
                      modal="true"
                      visible="true"
                      id="dialogUsuario"> 
                <h:panelGrid columns="2">
                    <h:outputText value="Usuário"/>
                    <p:commandButton icon="ui-icon-search"
                                     oncomplete="dlgDataTableUsuario.show()"
                                     type="button"
                                     style="float: top; float: left;"/>
                </h:panelGrid>
                <hr/>
                <h:panelGrid columns="2">
                    <h:outputText value="Nome:"/>
                    <p:inputText value="#{usuarioBean.usuario.nome}"
                                 size="30"
                                 required="true"/>

                    <h:outputText value="Sexo" />
                    <p:selectOneRadio id="sex" 
                                      value="#{usuarioBean.enumsSexo}"
                                      converter="sexoConverter">
                        <f:selectItems value="#{usuarioBean.usuario.sexo}"
                                       var="sexo"
                                       itemLabel="#{sexo.sexo}" itemValue="#{sexo}" />                        
                    </p:selectOneRadio>

                    <h:outputText value="CPF:"/>
                    <p:inputMask value="#{usuarioBean.usuario.cpf}" 
                                 mask="999-999-999-99"
                                 required="true"
                                 validator="#{usuarioBean.validateEmail}"/>

                    <h:outputText value="E-mail:"/>
                    <p:inputText value="#{usuarioBean.usuario.email}"
                                 size="30"
                                 validator="emailValidator"
                                 required="true">
                    </p:inputText>
                    <h:outputText value="Senha"/>
                    <p:password id="senha"
                                value="#{usuarioBean.usuario.senha}"
                                match="confirma"
                                size="30"
                                required="true"/>
                    <h:outputText value="Confirme a senha"/>
                    <p:password id="confirma"
                                size="30"
                                required="true"/>
                    <h:outputText value="Data de Nascimento"/>
                    <p:calendar value="#{usuarioBean.usuario.dataNascimento}"
                                required="true"/>


                </h:panelGrid>
                <h:panelGrid columns="2">
                    <p:commandButton value="Salvar"
                                     style="float: right"
                                     actionListener="#{usuarioBean.save()}"
                                     update=":formUsuario :messages :formDataTableUsuario"/>                    
                </h:panelGrid>
            </p:dialog>
        </h:form> 
        <ui:include src="dataTableUsuario.xhtml"/>
    </ui:define>
</ui:composition>